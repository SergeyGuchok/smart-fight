!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="dist/",n(n.s=15)}([function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(a).concat([o]).join("\n")}var i;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(o=0;o<t.length;o++){var i=t[o];null!=i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},function(t,e,n){var r,o,a={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),c=null,h=0,l=[],d=n(10);function u(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=a[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(v(r.parts[i],e))}else{var s=[];for(i=0;i<r.parts.length;i++)s.push(v(r.parts[i],e));a[r.id]={id:r.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],r={},o=0;o<t.length;o++){var a=t[o],i=e.base?a[0]+e.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}function f(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(t.insertAt.before,n);n.insertBefore(e,o)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return b(e,t.attrs),f(t,e),e}function b(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function v(t,e){var n,r,o,a;if(e.transform&&t.css){if(!(a="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=a}if(e.singleton){var i=h++;n=c||(c=g(e)),r=x.bind(null,n,i,!1),o=x.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),f(t,e),e}(e),r=function(t,e,n){var r=n.css,o=n.sourceMap,a=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||a)&&(r=d(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}.bind(null,n,e),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){m(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return u(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var i=n[o];(s=a[i.id]).refs--,r.push(s)}t&&u(p(t,e),e);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete a[s.id]}}}};var w,y=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function x(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var a=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}},function(t,e,n){var r=n(3);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(0)(!1);var r=n(4),o=r(n(5)),a=r(n(6)),i=r(n(7)),s=r(n(8)),c=r(n(9)+"#MontserratRegular");e.push([t.i,"@font-face {\n  font-family: 'MontserratRegular';\n  src: url("+o+");\n  src: url("+o+') format("embedded-opentype"), url('+a+') format("woff2"), url('+i+') format("woff"), url('+s+') format("truetype"), url('+c+") format(\"svg\"); }\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box; }\n\nbody {\n  min-height: 100vh;\n  height: 100%; }\n\n* {\n  font-family: 'MontserratRegular', 'Arial', sans-serif; }\n\nbody {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-flow: column;\n  background-color: pink; }\n\n.tips {\n  margin: 15px 0;\n  font-size: 25px; }\n\n.canvas-wrapper {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 15px;\n  box-shadow: 0 0 1px black; }\n\n.locations {\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%; }\n\n.location-wrapper {\n  position: relative;\n  width: 25%;\n  height: 100%;\n  transition: width 0.5s;\n  cursor: pointer;\n  overflow: hidden; }\n  .location-wrapper img {\n    height: 100%; }\n\n.location-name {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  padding: 10px 20px;\n  font-size: 30px;\n  background-color: pink;\n  opacity: 0;\n  transform: translate3d(-50%, -50%, 0);\n  transition: opacity 0.5s; }\n\n.bar-wrapper {\n  position: absolute;\n  top: 30px;\n  max-width: 300px;\n  width: 100%; }\n  .bar-wrapper p {\n    font-size: 23px;\n    color: #ffffff;\n    text-shadow: 0 0 1px black; }\n  .bar-wrapper div {\n    margin-top: 10px;\n    width: 100%;\n    height: 20px;\n    border: 1px solid black;\n    border-radius: 10px;\n    background: linear-gradient(270deg, lightblue, pink);\n    background-size: 400% 400%;\n    transition: width 1s;\n    -webkit-animation: AnimationName 5s ease infinite;\n    animation: AnimationName 5s ease infinite; }\n\n.enemy-bar-wrapper {\n  right: 100px; }\n\n.hero-bar-wrapper {\n  left: 100px; }\n\n.spell {\n  position: absolute;\n  height: 70px;\n  left: 10%;\n  opacity: 0; }\n\n@keyframes AnimationName {\n  0% {\n    background-position: 0% 51%; }\n  50% {\n    background-position: 100% 50%; }\n  100% {\n    background-position: 0% 51%; } }\n\n@keyframes lightning {\n  0% {\n    opacity: 1;\n    top: 30%; }\n  100% {\n    opacity: 1;\n    top: 82%; } }\n\n@keyframes fireball-to-hero {\n  0% {\n    opacity: 1;\n    left: 83%; }\n  100% {\n    opacity: 1;\n    left: 15%; } }\n\n@keyframes fireball-to-enemy {\n  0% {\n    opacity: 1;\n    left: 15%; }\n  100% {\n    opacity: 1;\n    left: 83%; } }\n",""])},function(t,e,n){"use strict";t.exports=function(t,e){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e,n){t.exports=n.p+"fonts/MontserratRegular.eot"},function(t,e,n){t.exports=n.p+"fonts/MontserratRegular.woff2"},function(t,e,n){t.exports=n.p+"fonts/MontserratRegular.woff"},function(t,e,n){t.exports=n.p+"fonts/MontserratRegular.ttf"},function(t,e,n){t.exports=n.p+"55209abb38ee55a0e1d2b53572e5f93c.svg"},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,a=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e,n){var r=n(12);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".modal {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 10;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.8);\n  animation: fadeIn 1s linear; }\n\n.modal-tasks {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-flow: column;\n  margin: 5px;\n  width: 20%;\n  border: 1px solid #ffffff;\n  transition: transform 0.2s;\n  cursor: pointer; }\n  .modal-tasks:hover {\n    transform: scale(1.02); }\n  .modal-tasks img {\n    height: 50px; }\n  .modal-tasks p {\n    font-size: 20px;\n    color: #ffffff; }\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n",""])},function(t,e,n){var r=n(14);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".eng-to-ru-wrapper {\n  position: absolute;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-wrap: wrap;\n  top: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 5;\n  color: #ffffff;\n  animation: fadeIn 1s linear; }\n\n.eng-to-ru-task {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-flow: column;\n  width: 50%;\n  height: 70%; }\n  .eng-to-ru-task p:first-of-type {\n    font-size: 28px; }\n  .eng-to-ru-task p:last-of-type {\n    position: relative;\n    margin-top: 20px;\n    font-size: 32px;\n    transition: transform 0.2s; }\n    .eng-to-ru-task p:last-of-type::after {\n      position: absolute;\n      bottom: -2px;\n      left: 0;\n      width: 100%;\n      height: 2px;\n      background-color: #ffffff;\n      content: ''; }\n    .eng-to-ru-task p:last-of-type:hover {\n      transform: scale(1.02); }\n\n.task-answer {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 50%;\n  height: 70%; }\n  .task-answer input {\n    height: 30px;\n    width: 200px;\n    background-color: transparent;\n    border: none;\n    border-bottom: 2px solid #ffffff;\n    color: #ffffff; }\n\n.send-answer {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%; }\n  .send-answer p {\n    font-weight: 700;\n    text-align: center;\n    max-width: 200px;\n    width: 100%;\n    padding: 15px 25px;\n    background-color: #ffffff;\n    border-radius: 10px;\n    color: #000000;\n    cursor: pointer; }\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n",""])},function(t,e,n){"use strict";n.r(e);n(2);class r{constructor(){this.imgSource="./src/img/",this.locationsSrc=["background-1.png","background-2.png","background-3.png","background-4.png"],this.locations=["City","Forest","Mars","Moon"]}_createLocations(){const t=document.createElement("div");return t.classList.add("locations"),this.locationsSrc.forEach((e,n)=>{const r=document.createElement("div"),o=document.createElement("img"),a=document.createElement("p");a.textContent=this.locations[n],a.classList.add("location-name"),r.appendChild(a),r.classList.add("location-wrapper"),r.appendChild(o),o.src=this.imgSource+e,o.alt=this.locations[n],t.appendChild(r),r.addEventListener("mouseover",function(){this.style.width="100%",this.children[0].style.opacity=1}),r.addEventListener("mouseleave",function(){this.style.width="25%",this.children[0].style.opacity=0})}),document.querySelector(".canvas-wrapper").appendChild(t),t}chooseLocation(t){return this._createLocations()}}class o{constructor(t){this.name=t,this.healthPoints=100,this.heroSrc="./src/img/characters/"}_loadHero(){const t=new Image,e=new Image,n=new Image;return t.src=this.heroSrc+"hero-head.png",e.src=this.heroSrc+"hero-body.png",n.src=this.heroSrc+"hero-weapon.png",[t,e,n]}set setHP(t){this.healthPoints=t}get getHP(){return this.healthPoints}get getName(){return this.name}}class a{constructor(){this.name=null,this.healthPoints=100,this.heroSrc="./src/img/characters/"}_loadEnemy(){const t=new Image,e=new Image,n=new Image;let r=Math.floor(4*Math.random())+1;return t.src=this.heroSrc+`${r}-head.png`,e.src=this.heroSrc+`${r}-body.png`,n.src=this.heroSrc+`${r}-weapon.png`,[t,e,n]}set setHP(t){this.healthPoints=t}get getHP(){return this.healthPoints}get getName(){return this.name=this._createName(),this.name}_createName(){let t=Math.floor(Math.abs(10*Math.random()-5)),e=Math.floor(Math.abs(10*Math.random()-5)),n=Math.floor(Math.abs(10*Math.random()-5));return`${["Ugly","Fearful","Wicked","Evil","Awful"][e]} ${["Ogre","Troll","Elf","Ork","Gnome","Goblin"][n]} ${["Darrizog","Rotlilag","Bomrator","Xarex","Juju","Jumonal"][t]}`}}n(11);class i{constructor(t){this.tasks=t}init(){const t=document.createElement("div");t.classList.add("modal"),this.tasks.forEach(e=>{const n=document.createElement("div"),r=document.createElement("p"),o=document.createElement("img"),a=e.getTaskInfo;n.classList.add("modal-tasks"),n.appendChild(o),n.appendChild(r),r.textContent=a.name,o.src=a.imgSrc,t.appendChild(n)}),document.querySelector(".canvas-wrapper").appendChild(t)}getTaskNumber(t){let e=null;return this.tasks.forEach(n=>{n.getTaskInfo.name===t&&(e=n)}),e}}n(13);class s{constructor(){this.russianWords=["Год","Январь","Март","Апрель","Кот","Дом","Собака","Мама","Отец","Лошадь","Улица","Красивый","Печенье","Кровать"],this.randomWord=null,this.englishWords=["Year","January","March","April","Cat","House","Dog","Mom","Dad","Horse","Street","Beautiful","Cookie","Bed"]}_createTask(){this._calculateRandomWord();const t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("p"),r=document.createElement("p"),o=document.createElement("div"),a=document.createElement("input"),i=document.createElement("div"),s=document.createElement("p"),c=document.querySelector(".canvas-wrapper");t.classList.add("eng-to-ru-wrapper","chosen-task-wrapper"),e.classList.add("eng-to-ru-task"),o.classList.add("task-answer"),i.classList.add("send-answer"),e.appendChild(n),e.appendChild(r),o.appendChild(a),i.appendChild(s),t.appendChild(e),t.appendChild(o),t.appendChild(i),a.placeholder="Answer here!";const h=this.englishWords[this.randomWord];r.textContent=h,n.textContent="Translate english word to Russian: ",s.textContent="Send answer!",c.appendChild(t)}_calculateRandomWord(){this.randomWord=Math.floor(14*Math.random())}get getTaskInfo(){return{name:"Translation",imgSrc:"./src/img/translation.png"}}_calculateAnswer(t){return this.russianWords[this.randomWord].toLowerCase()===t.toLowerCase()}}class c{constructor(){this.tasks=[new s,new s,new s,new s]}get getTasks(){return this.tasks}}class h{constructor(t){this.location=new r,this.hero=new o(t),this.enemy=new a,this.tasks=new c;const e=this.tasks.getTasks;this.modal=new i(e),this.name=t,this.heroImg=null,this.enemyImg=null,this.tipPanel=document.querySelector(".tips"),this.backgroundImage=null,this.canvas=null,this.ctx=null,this.ground=null;const n=new Image;n.src="./src/img/fireball.png";const s=new Image;s.src="./src/img/lightning-bolt.png",this.spells=[n,s],this.breathInc=.1,this.breathDir=1,this.breathAmt=0,this.breathMax=2,this.xPos=10,this.yPos=10}init(){this.tipPanel.textContent="Choose location";const t=document.getElementById("canvas"),e=t.getContext("2d");this.canvas=t,this.ctx=e,t.width=1e3,t.height=600;const n=new Image;n.src="./src/img/ground.png",this.ground=n,this.loadLocation()}_loadAudio(){const t=new Audio("./src/audio/background-music.mp3");t.volume=.06,t.play()}loadLocation(){const t=this.location.chooseLocation();return this._addLocationChooseEvent(t)}_addLocationChooseEvent(t){t.childNodes.forEach(t=>{t.addEventListener("click",this._handleLocationChoose.bind(this))})}_handleLocationChoose(t){const e=t.currentTarget.children[1].src;this.backgroundImage=new Image,this.backgroundImage.src=e,this.loadGame()}_addTasksChooseEvent(){document.querySelectorAll(".modal-tasks").forEach(t=>{t.addEventListener("click",this._chooseTask.bind(this))})}_chooseTask(t){this.tipPanel.textContent="Solve the task";const e=this.modal.getTaskNumber(t.currentTarget.children[1].textContent);e._createTask(),document.querySelector(".modal").style.display="none",this._addTaskAnswerEvent(e)}_addTaskAnswerEvent(t){document.querySelector(".send-answer").children[0].addEventListener("click",this._checkForHit.bind(this,t))}_checkForHit(t){const e=document.querySelector(".task-answer").children[0].value;if(""===e)return;const n=document.querySelector(".canvas-wrapper"),r=t._calculateAnswer(e);n.removeChild(document.querySelector(".chosen-task-wrapper")),this._attackCharacter(r)}_attackCharacter(t){!0===t?(this.tipPanel.textContent="Great job!",this.enemy.setHP=this.enemy.getHP-25,document.querySelector(".enemy-bar-wrapper").children[1].style.width=`${this.enemy.getHP}%`,this._castSpell("Enemy")):(this.tipPanel.textContent="Ooof, thats a miss :(",this.hero.setHP=this.hero.getHP-25,document.querySelector(".hero-bar-wrapper").children[1].style.width=`${this.hero.getHP}%`,this._castSpell("Hero"))}loadGame(){this.tipPanel.textContent="Choose task",this.modal.init(),this._addTasksChooseEvent(),document.querySelector(".canvas-wrapper").removeChild(document.querySelector(".locations")),this.heroImg=this.hero._loadHero(),this.enemyImg=this.enemy._loadEnemy();const t=this.enemy.getName;this._createBars(t),this._drawCharacters()}_drawCharacters(){this._updateBreath(),this.ctx.drawImage(this.backgroundImage,0,0,this.canvas.width,this.canvas.height),this.ctx.drawImage(this.heroImg[1],150,canvas.height-85),this.ctx.drawImage(this.heroImg[2],190,canvas.height-109-this.breathAmt),this.ctx.drawImage(this.heroImg[0],158,canvas.height-125-this.breathAmt),this.ctx.drawImage(this.enemyImg[1],canvas.width-150,canvas.height-85),this.ctx.drawImage(this.enemyImg[2],canvas.width-200,canvas.height-110-this.breathAmt),this.ctx.drawImage(this.enemyImg[0],canvas.width-140,canvas.height-115-this.breathAmt);let t=this.canvas.width;for(let e=0;t>0;e+=40)this.ctx.drawImage(this.ground,e,this.canvas.height-30,40,30),t-=40;this.hero.getHP&&this.enemy.getHP&&window.requestAnimationFrame(this._drawCharacters.bind(this))}_drawWinner(){}async _castSpell(t){const e=document.querySelector(".canvas-wrapper");let n=Math.floor(2*Math.random());const r=this.spells[n];if(e.appendChild(r),r.classList.add("spell"),1===n){const e=document.querySelector(".lightning");e.volume=.2,e.load(),e.play(),r.style.left="Hero"===t?"13%":"84%",r.style.animation="lightning 0.6s linear"}else{const e=document.querySelector(".explosion");e.volume=.2,e.load(),e.play(),r.style.top="82%","Hero"===t?(r.style.transform="rotate(180deg)",r.style.animation="fireball-to-hero 0.6s linear"):(r.style.animation="fireball-to-enemy 0.6s linear",r.style.transform="none")}this.hero.getHP&&this.enemy.getHP?setTimeout(function(){document.querySelector(".modal").style.display="flex",document.querySelector(".tips").textContent="Choose task"},1e3):this._drawWinner()}_updateBreath(){1===this.breathDir?(this.breathAmt-=this.breathInc,this.breathAmt<-this.breathMax&&(this.breathDir=-1)):(this.breathAmt+=this.breathInc,this.breathAmt>this.breathMax&&(this.breathDir=1))}_createBars(t){const e=document.createElement("div"),n=document.createElement("p"),r=document.createElement("div"),o=document.createElement("div"),a=document.createElement("p"),i=document.createElement("div");r.classList.add("bar-wrapper","enemy-bar-wrapper"),i.classList.add("bar-wrapper","hero-bar-wrapper"),n.textContent=t,a.textContent=this.name,r.appendChild(n),r.appendChild(e),i.appendChild(a),i.appendChild(o);const s=document.querySelector(".canvas-wrapper");s.appendChild(r),s.appendChild(i)}}window.onload=function(){new h("Odin").init()}}]);